<h3>Requests</h3>
{% if requests %}
{% for req in requests %}
<div class="request-row{% if req.is_active %} request-row-active{% endif %}" data-request-id="{{ req.request_id }}" hx-get="/dashboard/request/{{ req.request_id }}" hx-target="#detail" hx-swap="innerHTML">
    <span>{{ req.request_id[-8:] }}
        {% if req.is_active %}
        <span class="badge badge-active">{{ req.model }}</span>
        {% elif req.error %}
        <span class="badge badge-err">err</span>
        <span class="badge">{{ req.model }}</span>
        {% else %}
        <span class="badge badge-ok">ok</span>
        <span class="badge">{{ req.model }}</span>
        {% endif %}
    </span>
    <span class="elapsed">{% if req.is_active %}{{ req.elapsed_s }}s{% else %}{{ req.duration_ms }}ms{% endif %}{% if not req.is_active and (req.input_tokens is not none or req.output_tokens is not none) %} <span class="tokens">{{ (req.input_tokens or 0) + (req.output_tokens or 0) }}t</span>{% endif %}</span>
</div>
{% endfor %}
{% else %}
<p class="empty-state">No requests</p>
{% endif %}
